{% extends 'base.html' %}

{% block title %}My Disputes{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h1>My Disputes</h1>
        <a href="{% url 'order_history' %}" class="btn btn-primary">
            <i class="fas fa-plus"></i> Create new dispute.
        </a>
    </div>
    
    {% if disputes %}
    <div class="disputes-list">
        {% for dispute in disputes %}
        <div class="dispute-card">
            <div class="dispute-header">
                <h3>Dispute #{{ dispute.id }}</h3>
                <span class="dispute-status {{ dispute.status }}">{{ dispute.get_status_display }}</span>
            </div>
            <div class="dispute-details">
                <p><strong>Order:</strong> #{{ dispute.order.id }}</p>
                <p><strong>Created:</strong> {{ dispute.created_at|date:"M d, Y" }}</p>
                <p><strong>Reason:</strong> {{ dispute.reason|truncatechars:100 }}</p>
            </div>
            <div class="dispute-actions">
                <a href="{% url 'dispute_detail' dispute.id %}" class="btn btn-primary">View Details</a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <p>You don't have any disputes yet.</p>
        <p>If you have any questions about your order, you can create a dispute via the order details page.</p>
        <a href="{% url 'order_history' %}" class="btn btn-outline-primary">
            <i class="fas fa-shopping-bag"></i> View My Orders
        </a>
    </div>
    {% endif %}
</div>
{% endblock %}